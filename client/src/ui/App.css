:root { color-scheme: light dark; }
* { box-sizing: border-box; }
body { margin: 0; background: #0b1219; color: #e9eef3; }
.app { max-width: 980px; margin: 0 auto; font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }
.header { padding: 16px 12px; border-bottom: 1px solid #2a2f36; }
.chat { padding: 16px 12px; min-height: 60vh; }
.msg { display: flex; margin-bottom: 12px; }
.msg.assistant { justify-content: flex-start; }
.msg.user { justify-content: flex-end; }
.bubble { max-width: 80%; padding: 10px 12px; border-radius: 12px; white-space: pre-wrap; background: #121a23; border: 1px solid #263140; }
.user .bubble { background: #11314f; border: 1px solid #305f8a; }
.step { padding: 12px; border-top: 1px dashed #2a2f36; }
.ask { color: #d6dbe0; }
.buttons { display: grid; grid-template-columns: repeat(auto-fit,minmax(220px,1fr)); gap: 10px; margin-top: 10px; }
button { padding: 10px 12px; border-radius: 10px; border: 1px solid #3a3f46; background: #182230; color: #e9eef3; cursor: pointer; }
button:hover { border-color: #6fa9ff; }
.info { background: #142033; border: 1px solid #234; padding: 10px 12px; border-radius: 8px; margin: 10px 0; }
.footer { padding: 12px; border-top: 1px solid #2a2f36; color: #a8b3bf; }

/* === Consent Modal Styles === */
.consent-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(10, 15, 25, 0.65);
  display: grid;
  place-items: center;
  z-index: 9999;
}

.consent-modal {
  width: min(720px, 92vw);
  background: #ffffff;
  color: #111827;
  border-radius: 16px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.25);
  padding: 24px 22px;
}

.consent-title {
  margin: 0 0 12px;
  font-size: 1.25rem;
  line-height: 1.3;
}

.consent-text {
  margin: 0 0 16px;
}

.consent-text a {
  text-decoration: underline;
}

.consent-check {
  display: flex;
  gap: 10px;
  align-items: flex-start;
  margin: 12px 0 18px;
  user-select: none;
}

.consent-check input[type="checkbox"] {
  margin-top: 2px;
}

.consent-actions {
  display: flex;
  gap: 10px;
  margin-top: 8px;
}

.consent-btn {
  width: 100%;
  border: 0;
  border-radius: 10px;
  padding: 12px 16px;
  font-weight: 600;
  cursor: pointer;
  background: #111827;
  color: #fff;
}

.consent-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.consent-btn-secondary {
  width: 100%;
  border: 1px solid #d1d5db;
  border-radius: 10px;
  padding: 12px 16px;
  font-weight: 600;
  cursor: pointer;
  background: #ffffff;
  color: #111827;
}

.consent-declined {
  max-width: 720px;
  margin: 10vh auto;
  background: #ffffff;
  color: #111827;
  border-radius: 16px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.12);
  padding: 24px 22px;
}

.consent-declined h2 {
  margin: 0 0 12px;
  font-size: 1.25rem;
}
